{% load static %}
<!DOCTYPE html>
<!-- saved from url=(0048)https://ds.newhorizonbio.com/addInfo_normal.html -->
<html class="ui-mobile">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--<base href="https://ds.newhorizonbio.com/addInfo_normal.html">-->
    <base href=".">

    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>诺辉健康</title>
    <!--css-->
    <script src="{% static 'js/commonCss.js' %}" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/jquery.mobile.structure-1.4.5.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/common.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/nhapp.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/nhicofont.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/iscrollAutoCreat.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/mobiscroll-2.11.1.full.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/photoswipe.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/default-skin.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/mobile-select-area.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/mobileSelect.css' %}">
    <!--js-->
    <script src="{% static 'js/commonJs.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/jquery-2.1.0.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/jquery.mobile-1.4.3.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/mobile.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/common.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/jquery.lazyload.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/swipe.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/jquery.validate.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/jquery.validate.addMethod.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/photoswipe.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/photoswipe-ui-default.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/creatPhotoswipe.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/iscroll-probe.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/iscrollAutoCreat.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/mobiscroll-2.11.1.full.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/dialog.js' %}"></script>
    <script src="{% static 'js/mobile-select-area.js' %}"></script>
    <script src="{% static 'js/timeCountDown.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/mobileSelect.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/jweixin-1.0.0.js' %}"></script>
    <style>
        .stepsBox {
            padding: 0 1em;
            margin-top: -2em;
        }

        #steps {
            background: #fff;
            padding: 0.2em 0;
            border-radius: 0.5em;
        }

        .progressbar {
            font-family: montserrat, arial, verdana;
            margin: 15px;
            padding: 0;
            text-align: center;
            margin-bottom: 20px;
            overflow: hidden;
            counter-reset: step;
            z-index: 99;
        }

        .progressbar li {
            list-style-type: none;
            font-size: 12px;
            float: left;
            position: relative;
        }

        .progressbar li:before {
            content: counter(step);
            counter-increment: step;
            width: 40px;
            line-height: 40px;
            display: block;
            font-size: 12px;
            color: #333;
            background: #cccccc;
            border-radius: 40px;
            margin: 0 auto 5px auto;

        }

        .progressbar li:after {
            content: '';
            width: calc(100% - 40px);
            height: 2px;
            background: #cccccc;
            position: absolute;
            left: calc((-100% + 40px) / 2);
            top: 20px;
        }

        .progressbar li:before, .progressbar li:after {
            -webkit-transition: all .3s .2s linear;
            -moz-transition: all .3s .2s linear;
            -ms-transition: all .3s .2s linear;
            -o-transition: all .3s .2s linear;
            transition: all .3s .2s linear;
        }


        .progressbar li:first-child:after {
            content: none;
        }

        .progressbar li.active:before, .progressbar li.active:after {
            background: #40d4be;
            color: white;
            -webkit-transition: all .3s .2s linear;
            -moz-transition: all .3s .2s linear;
            -ms-transition: all .3s .2s linear;
            -o-transition: all .3s .2s linear;
            transition: all .3s .2s linear;
        }

        .pro-top {
            background: #36c7aa;
            height: 12em;
            padding-left: 2em;
        }

        .pro-top h1 {
            padding-top: 1.5em;
            color: #fff;
            font-size: 2em;
            font-weight: bolder;
        }

        .pro-top p {
            color: #fff;
        }

        .userBlockBox {
            width: 100%;
            padding: 1em 1em;
            box-sizing: border-box;
        }

        .userBlockBox .userBlock {
            padding: 1em 2em;
            margin: 0;
            border-radius: 10px;
        }

        .userBlock .block-hd {
            color: #36c7aa;
        }

        .userBlock .btn-blue {
            background: linear-gradient(to right, #00e9d3, #40d4be);
            margin-top: 1em;
            border-radius: 1.5em;
        }

        .userBlock .ui-input-text input, .userBlock .ui-input-text textarea {
            color: #36c7aa;
        }

        .orderPayInfo-txt2 {
            padding: 0;
            margin: 0;
            background: none;
        }

        .orderPayInfo-txt2 .orderPayInfo-box {
            padding: 0;
            width: 100%;
            height: auto;
            padding-bottom: 1em;
            line-height: normal;
        }

        .orderPayInfo-box.only-hint {
            color: #36c7aa;
        }

        .orderPayInfo-txt2 .hint-font {
            width: 20%;
            float: left;
            text-align: center;
        }

        .orderPayInfo-txt2 .hint-txt {
            width: 80%;
            box-sizing: border-box;
            padding-right: 1em;
            float: left;
            margin: 0;
            line-height: normal;
        }

        .rightContent {
            width: 100%;
            height: 100%;
            overflow-y: scroll;
            padding: 0 1em;
            box-sizing: border-box;
        }

        .rights1 {
            width: 100%;
        }

        .rights1 li {
            float: left;
            height: 3em;
            width: 19%;
            padding: 5px;
            box-sizing: border-box;
            margin-left: 2px;
            font-size: 0.75em;
            background: #7fd8ce;
            color: #fff;
        }

        .rights2 {
            width: 100%;
            height: 7em;
        }

        .rights2 li {
            float: left;
            height: 7em;
            width: 19%;
            padding: 5px;
            box-sizing: border-box;
            margin-left: 2px;
            font-size: 0.75em;
            background: #d8f0ed;

        }

        .rights3 {
            width: 100%;
            height: 7em;
        }

        .rights3 li {
            float: left;
            height: 7em;
            padding: 5px;
            box-sizing: border-box;
            width: 19%;
            margin-left: 2px;
            font-size: 0.75em;
            background: #ecf8f6;
        }

        .detectionId {
            color: #36c7aa;
        }

        .scanQRCode {
            font-size: 1.5em;
            color: #36c7aa;
            padding-left: 10px;
        }
    </style>
</head>
<body style="background:#f5f5f7;" class="ui-mobile-viewport ui-overlay-a">
<div data-role="page" id="SuccessHint" class="w-page2 ui-page ui-page-theme-a ui-page-active" data-url="SuccessHint"
     tabindex="0" style="">
    <form novalidate="novalidate">
        {% csrf_token %}
        <div role="main" class="ui-content ui-content-full">
            <div class="pro-top">
                <h1>感谢您的使用！</h1>
                <p>请您按以下流程完成检测<br>如需帮助可致电客服：<br><a href="tel:4008262300" style="text-decoration: underline;"
                                                   class="ui-link">400-826-2300</a>（工作日：9:00-18:00）</p>
            </div>
            <div class="stepsBox">
                <div id="steps">
                    <ul class="progressbar">
                        <li class="active" style="width: 25%;">个人信息录入/修改</li>
                        <li style="width: 25%;">样本回寄</li>
                        <li style="width: 25%;">检测进度查询</li>
                        <li style="width: 25%;">检测报告查询</li>
                    </ul>
                </div>
            </div>

            <div class="userBlockBox">
                <div class="orderPayInfo-txt2">
                    <div class="orderPayInfo-box only-hint">
                        <div class="hint-font">
                            <em class="nhicofont-hint_1" style="font-size: 2em;"></em>
                        </div>
                        <p></p>
                        <p>
                        </p>
                        <div class="hint-txt">
                            <p> 重要提示：检测前请您正确填写受检者本人的信息，否则将影响检测报告的出具。</p>
                            <p class="tb"
                               style="display: none;margin-top: 5px;color:#36c7aa;text-decoration: underline">
                                产品增值服务权益详情</p>
                        </div>
                    </div>
                </div>
                <div class="mask"
                     style="background-color: rgba(0,0,0,.7);position: fixed;left: 0;top: 0;bottom:0;right:0;padding:10% 0 0%;z-index: 1000;display: none;">
                    <p class="closeMask" style="position: absolute;top:10px;right:10px;color: #fff;">X</p>
                    <div class="rightContent">
                        <!--<img src="/common/imgs/coloclear/2001.jpg" />-->
                    </div>
                </div>

                <div class="userBlock">
                    <div class="block-hd">
                        <p class="title">受检人信息</p>
                        <div class="transverse-line"></div>
                    </div>
                    <div class="block-bd">
                        <div class="detectionId">
                        </div>
                        <input name="id" value="{{ project_code }}" type="hidden">
                        <input name="orderState" id="orderState" type="hidden">
                        <input name="reportIsPaper" type="hidden">
                        <input name="sampleno" type="hidden">
                        <!--<input name="insure" id="insure" value="" type="hidden" />
                        <input name="modify_za" id="modify_za" value="" type="hidden" />
                        <input name="order_source" id="order_source" value="" type="hidden" />-->
                        {#                        <div class="ui-input-text ui-input-text2" id="medicalRecordNo" style="display:none">#}
                        {#                            <em class="input-title medicalRecorTxt">体检条码号</em>#}
                        {#                            <input type="text" class="text-blue" value="" name="medicalRecordNo" data-role="none"#}
                        {#                                   placeholder="请输入">#}
                        {#                        </div>#}
                        {#                        <div class="ui-input-text ui-input-text2" id="medicalRecordNoZ2" style="display:none">#}
                        {#                            <em class="input-title">样本号<a class="nhicofont-saoyisao ui-link scanQRCode"#}
                        {#                                                          id="scanQRCode"></a></em>#}
                        {#                            <input type="text" class="text-blue" minlength="12" maxlength="12" value=""#}
                        {#                                   id="requisitionId" name="requisitionId" data-role="none" placeholder="请输入">#}
                        {#                        </div>#}
                        <div class="ui-input-text ui-input-text2">
                            <em class="input-title">受检人姓名</em>
                            <input type="text" class="text-blue" value="" maxlength="40" name="detectedPerson"
                                   id="detectedPerson" data-role="none" placeholder="请输入">
                        </div>
                        <div class="ui-input-text ui-input-text2">
                            <em class="input-title">证件类型</em>
                            <input type="text" id="J_Switch1_dummy" value="身份证" class="" placeholder="请选择" readonly=""
                                   name="certificateType">
                            <ul id="J_Switch1" style="display: none;">
                                <li data-val="身份证">
                                    身份证
                                </li>
                                <li data-val="护照">
                                    护照
                                </li>
                            </ul>
                        </div>
                        <div class="ui-input-text">
                            <em class="input-title">证件号码</em>
                            <input class="j_SimulateInput" type="text" id="J_credentialsnumber" name="certificateNo"
                                   value="" data-role="none" placeholder="请输入">
                        </div>
                        {#                        <div class="ui-input-text ui-input-text2 j_Sex" style="display: none;">#}
                        {#                            <em class="input-title">性别</em>#}
                        {#                            <input type="text" id="J_Switch2_dummy" value="" class="" placeholder="请选择" readonly=""#}
                        {#                                   name="sex">#}
                        {#                            <ul id="J_Switch2" style="display: none;">#}
                        {#                                <li data-val="男">#}
                        {#                                    男#}
                        {#                                </li>#}
                        {#                                <li data-val="女">#}
                        {#                                    女#}
                        {#                                </li>#}
                        {#                            </ul>#}
                        {#                        </div>#}
                        {#                        <div class="ui-input-text j_Birthday" style="display: none;">#}
                        {#                            <em class="input-title">出生日期</em>#}
                        {#                            <input type="text" class="text-blue" name="birthday" data-role="none" placeholder="请输入"#}
                        {#                                   readonly="" id="J_Birthday">#}
                        {#                        </div>#}
                        <div class="ui-input-text">
                            <em class="input-title">手机号</em>
                            <input type="text" class="text-blue" value="" placeholder="请输入" name="detectedPhone"
                                   data-role="none">
                        </div>
                        <!--                        <div class="ui-input-text j_samplingTime">-->
                        <!--                            <em class="input-title">采样日期</em>-->
                        <!--                            <input type="text" class="text-blue" name="samplingTime" data-role="none" placeholder="选填项" readonly="readonly" id="J_samplingTime" />-->
                        <!--                        </div>-->
                    </div>

                    {#                    <div class="block-hd" id="d_insure2">#}
                    {#                        <p class="title">报告邮寄地址</p>#}
                    {#                        <div class="transverse-line"></div>#}
                    {#                    </div>#}
                    {#                    <div class="block-bd" id="d_insure1">#}
                    {#                        <div class="ui-input-text">#}
                    {#                            <em class="input-title">报告接收人</em>#}
                    {#                            <input type="text" name="reportReceiverName" maxlength="20" value="" data-role="none"#}
                    {#                                   placeholder="请输入">#}
                    {#                        </div>#}
                    {#                        <div class="ui-input-text">#}
                    {#                            <em class="input-title">手机号</em>#}
                    {#                            <input type="tel" class="text-blue" name="reportReceiverPhone" value="" data-role="none"#}
                    {#                                   placeholder="请输入">#}
                    {#                        </div>#}
                    {#                        <div class="ui-input-text">#}
                    {#                            <em class="input-title">所在地区</em>#}
                    {#                            <input type="hidden" value="" name="reportReceiverAreaCode">#}
                    {#                            <div id="areaMask"#}
                    {#                                 style="width:100%;height: 2.75em;position: absolute;display: none;"></div>#}
                    {#                            <input type="text" name="area" data-role="none" readonly="readonly" id="trigger" value=""#}
                    {#                                   placeholder="请选择" unselectable="on" onfocus="this.blur()" style="cursor: pointer;">#}
                    {#                        </div>#}
                    {#                        <div class="ui-input-text">#}
                    {#                            <em class="input-title">详细地址</em>#}
                    {#                            <textarea name="reportReceiverAddress" placeholder="请输入"#}
                    {#                                      class="ui-input-text ui-shadow-inset ui-body-inherit ui-corner-all ui-textinput-autogrow"#}
                    {#                                      style="height: 63px;"></textarea>#}
                    {#                        </div>#}
                    {##}
                    {#                    type="submit"  </div>#}
                    <button class="btn-blue j_Tap ui-btn ui-shadow ui-corner-all" type="button" id="addinfo_btn">提交
                    </button>
                    {#                    <p style="background-color: red"> {{ msg }}</p>#}
                </div>

            </div>
        </div>
    </form>

    <script>
        $('#addinfo_btn').click(function () {
            //获取产品编码
            var code_num = $('input[name="id"]').val();
            {#var code_num ='{{ project_code }}'#}
            //获取受检人姓名
            var examine_name = $('input[name="detectedPerson"]').val();
            //获取证件号码
            var certificate_num = $('input[name="certificateNo"]').val();
            //获取手机号码
            var phone = $('input[name="detectedPhone"]').val();
            var csrf = $('input[name="csrfmiddlewaretoken"]').val();
            console.log(code_num)
            console.log(examine_name)
            console.log(certificate_num)
            $.post("{% url 'user:addinfo' %}", {
                code_num: code_num,
                examine_name: examine_name,
                certificate_num: certificate_num,
                phone: phone,
                csrfmiddlewaretoken: csrf
            }, function (data) {
                if (data.status == 'success') {
                    alert(data.msg);
                    window.location.href = '{% url 'logistics:sampleReturn' %}?project_code={{ project_code }}';
                } else {
                    alert(data.errmsg)
                }
            });
        });
        /**$(document).on("pageshow", "#SuccessHint", function () {//pageshow在"去的"页面触发，在过渡动画完成后。
            $(function () {
                initStep();
            });

            function initStep() {
                // if(sessionStorage.getItem("appointType")==1){
                //     $("#steps").step({
                //         stepNames: ['个人信息录入/修改', '样本回寄', '检测进度查询', '检测报告查询',"采血"],
                //         initStep: 1
                //     })
                // }else {
                $("#steps").step({
                    stepNames: ['个人信息录入/修改', '样本回寄', '检测进度查询', '检测报告查询'],
                    initStep: 1
                })
                // }

            }

            var page = $(this);
            $(".tb").click(function () {
                $(".mask").show();
            })
            $(".closeMask").click(function () {
                $(".mask").hide();
            })

            page.find("#J_Switch1_dummy").prop("name", "certificateType");//给证件类型增加name验证
            page.find("#J_Switch2_dummy").prop("name", "sex");//给性别增加name验证
            //ajax初始化页面
            var reportIsPaper = '';
            var certificateType = '';
            var id = request('id');
            $("input[name=id]").val(id);

            $.fn.step = function (method) {
                if (methods[method]) {
                    return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
                } else if (typeof method === 'object' || !method) {
                    return methods.init.apply(this, arguments);
                } else {
                    $.error('Method ' + method + ' does not exist on jQuery.tooltip');
                }
            };

            var defStep = {
                stepNames: ['', '', ''],
                initStep: 1
            };

            var methods;
            methods = {
                init: function (options) {
                    // 初始化参数为空，使用默认设置
                    if (!options) {
                        options = defStep;
                    } else {
                        // 步骤名称判断
                        if (!options.stepNames || typeof options.stepNames !== "object") {
                            options.stepNames = defStep.stepNames;
                        }
                        // 初始化步骤判断
                        if (!options.initStep || isNaN(options.initStep) || options.initStep < 0) {
                            options.initStep = defStep.initStep;
                        }
                        // 初始化步骤大于最大值
                        if (options.initStep > options.stepNames.length) {
                            options.initStep = options.stepNames.length;
                        }
                    }
                    // 初始化样式
                    var html = '';
                    html += '<ul class="progressbar">';
                    $.each(options.stepNames, function (index, name) {
                        html += '<li';
                        if (index < options.initStep) {
                            html += ' class="active" ';
                        }
                        html += '>';
                        html += name;
                        html += '</li>';
                    });
                    html += '</ul>';
                    this.empty().append(html);
                    // 计算宽度
                    $(".progressbar li").css("width", 100 / options.stepNames.length + "%");
                },


                goto: function (step) {
                    if (step < 0 || step > this.find("li").length) {
                        return;
                    }
                    this.find("li").removeClass("active");
                    var $target = this.find("li").eq(step - 1);
                    $target.addClass("active");
                    $target.prevAll("li").addClass("active");
                }
            };
        });
         $(document).on("pageinit", "#SuccessHint", function (event) {  //pageinit当页面已初始化，并且在 jQuery Mobile 已完成页面增强之后，触发该事件。
            var page = $(this);
            var elForm = page.find('form'),
                elSubmint = elForm.find("button[type=submit]");
            var ids = request('id');
            //#region 证件选择  日期选择插件
            page.find('#J_Switch1').mobiscroll().treelist({
                theme: 'android-ics light',
                lang: 'zh',
                width: 200,
                display: 'bottom',
                placeholder: '请选择',
                onChange: function (valueText, inst) {
                    console.log(valueText);
                },
                onSelect: function (valueText, inst) {
                    if (valueText == "护照") {
                        $(".j_SimulateInput").rules("remove");
                        $(".j_SimulateInput").rules("add", {required: true, messages: {required: "请正确填写您的护照号"}});
                        $("#J_credentialsnumber").val("");
                        $(".j_Sex").show();
                        $(".j_Birthday").show();
                    } else {
                        $(".j_SimulateInput").rules("remove");
                        $(".j_SimulateInput").rules("add", {
                            required: true,
                            idcard: true,
                            messages: {required: "请正确输入您的身份证号码"}
                        });
                        $("#J_credentialsnumber").val("");
                        $("#J_Switch2_dummy").val("");
                        $("#J_Birthday").val("");
                        $(".j_Sex").hide();
                        $(".j_Birthday").hide();
                    }
                },
                onCancel: function (valueText, inst) {
                    console.log("组件已取消");
                }
            });
            page.find('#J_Switch2').mobiscroll().treelist({ //性别
                theme: 'android-ics light',
                lang: 'zh',
                width: 200,
                display: 'bottom',
                placeholder: '请选择',

            });
            page.find("#J_Birthday").mobiscroll().date({// 生日
                theme: 'android-ics light', //皮肤样式
                display: 'modal', //显示方式
                mode: 'scroller', //日期选择模式
                lang: 'zh',
                dateFormat: 'yy-mm-dd',
                dateOrder: 'yymmdd',
                maxDate: new Date(),
                onSelect: function (valueText, inst) {
                    //TODO:保存生日
                }
            });
            // page.find("#J_samplingTime").mobiscroll().date({// 采样日期
            //     theme: 'android-ics light', //皮肤样式
            //     display: 'modal', //显示方式
            //     mode: 'scroller', //日期选择模式
            //     lang: 'zh',
            //     dateFormat: 'yy-mm-dd',
            //     dateOrder: 'yymmdd',
            //     maxDate: new Date(),
            //     onSelect: function (valueText, inst) {
            //
            //     }
            // });
            elForm.validate({
                rules: {
                    medicalRecordNo: {
                        required: true
                    },
                    requisitionId: {
                        required: true
                    },
                    detectedPerson: {
                        required: true
                    },
                    reportReceiverName: {
                        required: true
                    },
                    detectedPhone: {
                        required: true,
                        mopbilephone: true
                    },
                    reportReceiverPhone: {
                        required: true,
                        mopbilephone: true
                    },
                    certificateNo: {
                        idcard: true,
                        required: true,
                    },
                    certificateType: {
                        required: true
                    },
                    card: {
                        required: true
                    },
                    birthday: {
                        required: true
                    },
                    sex: {
                        required: true
                    },
                    area: {
                        required: true
                    },
                    reportReceiverAddress: {
                        required: true
                    }

                },
                messages: {
                    medicalRecordNo: {
                        required: "请输入医院病案号"
                    },
                    requisitionId: {
                        required: "请输入浙二样本号"
                    },
                    detectedPerson: {
                        required: "请输入受检人姓名"
                    },
                    reportReceiverName: {
                        required: "请输入收件人姓名"
                    },
                    detectedPhone: {
                        required: "请输入手机号码"
                    },
                    reportReceiverPhone: {
                        required: "请输入手机号码"
                    },
                    certificateNo: {
                        idcard: "请正确填写您的证件号码",
                        required: "请正确填写您的证件号码"
                    },
                    birthday: {
                        required: "请输入出生年月"
                    },
                    certificateType: {
                        required: "请选择证件类型"
                    },
                    card: {
                        required: "请填写证件号码"
                    },
                    sex: {
                        required: "请选择性别"
                    },
                    area: {
                        required: "请选择所在地区"
                    },
                    reportReceiverAddress: {
                        required: "请输入详细地址"
                    }

                },
                submitHandler: function (form, ev) {
                    ev.preventDefault();
                    var re = /^[\u4E00-\u9FA5A-Za-z\s]+(·[\u4E00-\u9FA5A-Za-z]+)*$/;
                    if (!re.test($("#detectedPerson").val())) {
                        $setAlert("姓名只能输入中文或者英文");
                        return false;
                    }
                    if ($("#orderState").val() >= 21) {
                        //  debugger;
                        $setAlert("盒子已签回，如需修改信息请联系客服！");
                        return false;
                    }
                    if ($("input[name=certificateType]").val() == "其他") {
                        $setAlert("请选择正确的证件类型");
                        return false;
                    }
                    if ($("input[name=detectedPhone]").val() == "13000000000") {
                        $setAlert("请修改手机号");
                        return false;
                    }

                    elSubmint.prop("disabled", true);
                    $.mobile.loading("show");

                    var dataObj = elForm.serializeObject();
                    dataObj.detectedPerson = dataObj.detectedPerson.trim();
                    {#dataObj.reportReceiverName = dataObj.reportReceiverName.trim();#}
                    if (dataObj.certificateType == "身份证") {
                        dataObj.certificateType = 1;
                    } else if (dataObj.certificateType == "护照") {
                        dataObj.certificateType = 2;
                    }
                    if (dataObj.sex == "男") {
                        dataObj.sex = 1;
                    } else if (dataObj.sex == "女") {
                        dataObj.sex = 2;
                    }
                    //TODO:注册  改这里的代码
                    $.mobile.loading("show");
                    console.log(JSON.stringify(dataObj));
                    elForm.submit();

                    $.ajax({
                        data: JSON.stringify(dataObj),
                        contentType: "application/json",
                        url: '{% url 'user:addinfo' %}', //这里写你服务器的接口地址
                        type: "post",
                        async: false,
                        success: function (data) {
                            elSubmint.prop("disabled", false);
                            $.mobile.loading("hide");
                            if (data.success) {
                                window.location.href = "sampleReturn.html?id=" + ids;
                                $setAlert("提交成功！");
                            } else {
                                $setAlert(data.msg);
                            }
                            $.mobile.loading("hide");
                        }
                    });

                },
                invalidHandler: function () {
                    return false;
                }
            });


        });**/
    </script>
</div>


<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon-loading"></span>
    <h1>loading</h1></div>
<div class="mobileSelect">
    <div class="grayLayer"></div>
    <div class="content">
        <div class="btnBar">
            <div class="fixWidth">
                <div class="cancel">取消</div>
                <div class="title">地址选择</div>
                <div class="ensure">确认</div>
            </div>
        </div>
        <div class="panel">
            <div class="fixWidth">
                <div class="wheels">
                    <div class="wheel" style="width: 33.33%;">
                        <ul class="selectContainer" style="transform: translate3d(0px, 80px, 0px);">
                            <li data-id="110000">北京市</li>
                            <li data-id="120000">天津市</li>
                            <li data-id="130000">河北省</li>
                            <li data-id="140000">山西省</li>
                            <li data-id="150000">内蒙古自治区</li>
                            <li data-id="210000">辽宁省</li>
                            <li data-id="220000">吉林省</li>
                            <li data-id="230000">黑龙江省</li>
                            <li data-id="310000">上海市</li>
                            <li data-id="320000">江苏省</li>
                            <li data-id="330000">浙江省</li>
                            <li data-id="340000">安徽省</li>
                            <li data-id="350000">福建省</li>
                            <li data-id="360000">江西省</li>
                            <li data-id="370000">山东省</li>
                            <li data-id="410000">河南省</li>
                            <li data-id="420000">湖北省</li>
                            <li data-id="430000">湖南省</li>
                            <li data-id="440000">广东省</li>
                            <li data-id="450000">广西壮族自治区</li>
                            <li data-id="460000">海南省</li>
                            <li data-id="500000">重庆市</li>
                            <li data-id="510000">四川省</li>
                            <li data-id="520000">贵州省</li>
                            <li data-id="530000">云南省</li>
                            <li data-id="540000">西藏自治区</li>
                            <li data-id="610000">陕西省</li>
                            <li data-id="620000">甘肃省</li>
                            <li data-id="630000">青海省</li>
                            <li data-id="640000">宁夏回族自治区</li>
                            <li data-id="650000">新疆维吾尔自治区</li>
                            <li data-id="710000">台湾省</li>
                            <li data-id="810000">香港特别行政区</li>
                            <li data-id="820000">澳门特别行政区</li>
                        </ul>
                    </div>
                    <div class="wheel" style="width: 33.33%;">
                        <ul class="selectContainer" style="transform: translate3d(0px, 80px, 0px);">
                            <li data-id="110100">市辖区</li>
                        </ul>
                    </div>
                    <div class="wheel" style="width: 33.33%;">
                        <ul class="selectContainer" style="transform: translate3d(0px, 80px, 0px);">
                            <li data-id="110101">东城区</li>
                            <li data-id="110102">西城区</li>
                            <li data-id="110105">朝阳区</li>
                            <li data-id="110106">丰台区</li>
                            <li data-id="110107">石景山区</li>
                            <li data-id="110108">海淀区</li>
                            <li data-id="110109">门头沟区</li>
                            <li data-id="110111">房山区</li>
                            <li data-id="110112">通州区</li>
                            <li data-id="110113">顺义区</li>
                            <li data-id="110114">昌平区</li>
                            <li data-id="110115">大兴区</li>
                            <li data-id="110116">怀柔区</li>
                            <li data-id="110117">平谷区</li>
                            <li data-id="110118">密云区</li>
                            <li data-id="110119">延庆区</li>
                        </ul>
                    </div>
                </div>
                <div class="selectLine"></div>
                <div class="shadowMask"></div>
            </div>
        </div>
    </div>
</div>
</body>
</html>